import{p as Z,m as ue,q as Pe,v as ke,x as ee,c as w,y as te,j as l,z as H,A as Q,M as Se,I as ae,E as ie,B as Re,C as Fe,D as Be,F as $e,G as Te,H as Le,J as Ne,K as De,r as L,L as Oe,N as Ae,O as Ee,w as We,P as Me,Q as Ue,R as qe,S as W,T as J,U as je,W as Ke,X as ze,Y as He,Z as Xe,_ as Ye,$ as Ge,n as de,a0 as Je,d as Qe,s as fe,e as T,f as Ze,h as O,V as et,k as f,i as A,u as c,a1 as ve,a2 as E,a3 as me,a4 as he,t as ge,l as z}from"./index-be0ef690.js";import{u as tt}from"./list-4c83a4a3.js";import{V as Y,a as nt}from"./VRow-20c8142b.js";import{V as lt,m as at,u as xe,a as it,b as ot,c as ye,d as be}from"./VInput-d0e1d224.js";class oe{constructor(s){let{x:a,y:i,width:t,height:n}=s;this.x=a,this.y=i,this.width=t,this.height=n}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function st(e){const s=e.getBoundingClientRect(),a=getComputedStyle(e),i=a.transform;if(i){let t,n,o,d,v;if(i.startsWith("matrix3d("))t=i.slice(9,-1).split(/, /),n=+t[0],o=+t[5],d=+t[12],v=+t[13];else if(i.startsWith("matrix("))t=i.slice(7,-1).split(/, /),n=+t[0],o=+t[3],d=+t[4],v=+t[5];else return new oe(s);const h=a.transformOrigin,V=s.x-d-(1-n)*parseFloat(h),y=s.y-v-(1-o)*parseFloat(h.slice(h.indexOf(" ")+1)),R=n?s.width/n:e.offsetWidth+1,_=o?s.height/o:e.offsetHeight+1;return new oe({x:V,y,width:R,height:_})}else return new oe(s)}function rt(e,s,a){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(s,a)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(t=>{i.onfinish=()=>{t(i)}})),i}const ut="cubic-bezier(0.4, 0, 0.2, 1)";const ct=Z({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ue(),...Pe({transition:{component:ke}})},"VCounter"),dt=ee()({name:"VCounter",functional:!0,props:ct(),setup(e,s){let{slots:a}=s;const i=w(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return te(()=>l(Se,{transition:e.transition},{default:()=>[H(l("div",{class:["v-counter",e.class],style:e.style},[a.default?a.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[Q,e.active]])]})),{}}});const ft=Z({floating:Boolean,...ue()},"VFieldLabel"),G=ee()({name:"VFieldLabel",props:ft(),setup(e,s){let{slots:a}=s;return te(()=>l(lt,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},a)),{}}}),vt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Ce=Z({appendInnerIcon:ae,bgColor:String,clearable:Boolean,clearIcon:{type:ae,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ae,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>vt.includes(e)},"onClick:clear":ie(),"onClick:appendInner":ie(),"onClick:prependInner":ie(),...ue(),...Re(),...Fe(),...Be()},"VField"),Ve=ee()({name:"VField",inheritAttrs:!1,props:{id:String,...at(),...Ce()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{attrs:a,emit:i,slots:t}=s;const{themeClasses:n}=$e(e),{loaderClasses:o}=Te(e),{focusClasses:d,isFocused:v,focus:h,blur:V}=xe(e),{InputIcon:y}=it(e),{roundedClasses:R}=Le(e),{rtlClasses:_}=Ne(),P=w(()=>e.dirty||e.active),x=w(()=>!e.singleLine&&!!(e.label||t.label)),M=De(),g=w(()=>e.id||`input-${M}`),N=w(()=>`${g.value}-messages`),b=L(),k=L(),u=L(),r=w(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:m,backgroundColorStyles:S}=Oe(Ae(e,"bgColor")),{textColorClasses:F,textColorStyles:ne}=Ee(w(()=>e.error||e.disabled?void 0:P.value&&v.value?e.color:e.baseColor));We(P,p=>{if(x.value){const C=b.value.$el,B=k.value.$el;requestAnimationFrame(()=>{const $=st(C),I=B.getBoundingClientRect(),q=I.x-$.x,j=I.y-$.y-($.height/2-I.height/2),D=I.width/.75,K=Math.abs(D-$.width)>1?{maxWidth:Me(D)}:void 0,X=getComputedStyle(C),ce=getComputedStyle(B),pe=parseFloat(X.transitionDuration)*1e3||150,Ie=parseFloat(ce.getPropertyValue("--v-field-label-scale")),we=ce.getPropertyValue("color");C.style.visibility="visible",B.style.visibility="hidden",rt(C,{transform:`translate(${q}px, ${j}px) scale(${Ie})`,color:we,...K},{duration:pe,easing:ut,direction:p?"normal":"reverse"}).finished.then(()=>{C.style.removeProperty("visibility"),B.style.removeProperty("visibility")})})}},{flush:"post"});const U=w(()=>({isActive:P,isFocused:v,controlRef:u,blur:V,focus:h}));function le(p){p.target!==document.activeElement&&p.preventDefault()}return te(()=>{var q,j,D;const p=e.variant==="outlined",C=t["prepend-inner"]||e.prependInnerIcon,B=!!(e.clearable||t.clear),$=!!(t["append-inner"]||e.appendInnerIcon||B),I=()=>t.label?t.label({...U.value,label:e.label,props:{for:g.value}}):e.label;return l("div",J({class:["v-field",{"v-field--active":P.value,"v-field--appended":$,"v-field--center-affix":e.centerAffix??!r.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":C,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!I(),[`v-field--variant-${e.variant}`]:!0},n.value,m.value,d.value,o.value,R.value,_.value,e.class],style:[S.value,e.style],onClick:le},a),[l("div",{class:"v-field__overlay"},null),l(Ue,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),C&&l("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&l(y,{key:"prepend-icon",name:"prependInner"},null),(q=t["prepend-inner"])==null?void 0:q.call(t,U.value)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&x.value&&l(G,{key:"floating-label",ref:k,class:[F.value],floating:!0,for:g.value,style:ne.value},{default:()=>[I()]}),l(G,{ref:b,for:g.value},{default:()=>[I()]}),(j=t.default)==null?void 0:j.call(t,{...U.value,props:{id:g.value,class:"v-field__input","aria-describedby":N.value},focus:h,blur:V})]),B&&l(qe,{key:"clear"},{default:()=>[H(l("div",{class:"v-field__clearable",onMousedown:K=>{K.preventDefault(),K.stopPropagation()}},[t.clear?t.clear():l(y,{name:"clear"},null)]),[[Q,e.dirty]])]}),$&&l("div",{key:"append",class:"v-field__append-inner"},[(D=t["append-inner"])==null?void 0:D.call(t,U.value),e.appendInnerIcon&&l(y,{key:"append-icon",name:"appendInner"},null)]),l("div",{class:["v-field__outline",F.value],style:ne.value},[p&&l(W,null,[l("div",{class:"v-field__outline__start"},null),x.value&&l("div",{class:"v-field__outline__notch"},[l(G,{ref:k,floating:!0,for:g.value},{default:()=>[I()]})]),l("div",{class:"v-field__outline__end"},null)]),r.value&&x.value&&l(G,{ref:k,floating:!0,for:g.value},{default:()=>[I()]})])])}),{controlRef:u}}});function mt(e){const s=Object.keys(Ve.props).filter(a=>!je(a)&&a!=="class"&&a!=="style");return Ke(e,s)}const se=Symbol("Forwarded refs");function re(e,s){let a=e;for(;a;){const i=Reflect.getOwnPropertyDescriptor(a,s);if(i)return i;a=Object.getPrototypeOf(a)}}function ht(e){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return e[se]=a,new Proxy(e,{get(t,n){if(Reflect.has(t,n))return Reflect.get(t,n);if(!(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))){for(const o of a)if(o.value&&Reflect.has(o.value,n)){const d=Reflect.get(o.value,n);return typeof d=="function"?d.bind(o.value):d}}},has(t,n){if(Reflect.has(t,n))return!0;if(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))return!1;for(const o of a)if(o.value&&Reflect.has(o.value,n))return!0;return!1},set(t,n,o){if(Reflect.has(t,n))return Reflect.set(t,n,o);if(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))return!1;for(const d of a)if(d.value&&Reflect.has(d.value,n))return Reflect.set(d.value,n,o);return!1},getOwnPropertyDescriptor(t,n){var d;const o=Reflect.getOwnPropertyDescriptor(t,n);if(o)return o;if(!(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))){for(const v of a){if(!v.value)continue;const h=re(v.value,n)??("_"in v.value?re((d=v.value._)==null?void 0:d.setupState,n):void 0);if(h)return h}for(const v of a){const h=v.value&&v.value[se];if(!h)continue;const V=h.slice();for(;V.length;){const y=V.shift(),R=re(y.value,n);if(R)return R;const _=y.value&&y.value[se];_&&V.push(..._)}}}}})}const gt=["color","file","time","date","datetime-local","week","month"],yt=Z({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ot(),...Ce()},"VTextField"),_e=ee()({name:"VTextField",directives:{Intersect:ze},inheritAttrs:!1,props:yt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{attrs:a,emit:i,slots:t}=s;const n=He(e,"modelValue"),{isFocused:o,focus:d,blur:v}=xe(e),h=w(()=>typeof e.counterValue=="function"?e.counterValue(n.value):typeof e.counterValue=="number"?e.counterValue:(n.value??"").toString().length),V=w(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),y=w(()=>["plain","underlined"].includes(e.variant));function R(r,m){var S,F;!e.autofocus||!r||(F=(S=m[0].target)==null?void 0:S.focus)==null||F.call(S)}const _=L(),P=L(),x=L(),M=w(()=>gt.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function g(){var r;x.value!==document.activeElement&&((r=x.value)==null||r.focus()),o.value||d()}function N(r){i("mousedown:control",r),r.target!==x.value&&(g(),r.preventDefault())}function b(r){g(),i("click:control",r)}function k(r){r.stopPropagation(),g(),de(()=>{n.value=null,Je(e["onClick:clear"],r)})}function u(r){var S;const m=r.target;if(n.value=m.value,(S=e.modelModifiers)!=null&&S.trim&&["text","search","password","tel","url"].includes(e.type)){const F=[m.selectionStart,m.selectionEnd];de(()=>{m.selectionStart=F[0],m.selectionEnd=F[1]})}}return te(()=>{const r=!!(t.counter||e.counter!==!1&&e.counter!=null),m=!!(r||t.details),[S,F]=Xe(a),{modelValue:ne,...U}=ye.filterProps(e),le=mt(e);return l(ye,J({ref:_,modelValue:n.value,"onUpdate:modelValue":p=>n.value=p,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":y.value},e.class],style:e.style},S,U,{centerAffix:!y.value,focused:o.value}),{...t,default:p=>{let{id:C,isDisabled:B,isDirty:$,isReadonly:I,isValid:q}=p;return l(Ve,J({ref:P,onMousedown:N,onClick:b,"onClick:clear":k,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},le,{id:C.value,active:M.value||$.value,dirty:$.value||e.dirty,disabled:B.value,focused:o.value,error:q.value===!1}),{...t,default:j=>{let{props:{class:D,...K}}=j;const X=H(l("input",J({ref:x,value:n.value,onInput:u,autofocus:e.autofocus,readonly:I.value,disabled:B.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:g,onBlur:v},K,F),null),[[Ye("intersect"),{handler:R},null,{once:!0}]]);return l(W,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?l("div",{class:D,"data-no-activator":""},[t.default(),X]):Ge(X,{class:D}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:m?p=>{var C;return l(W,null,[(C=t.details)==null?void 0:C.call(t,p),r&&l(W,null,[l("span",null,null),l(dt,{active:e.persistentCounter||o.value,value:h.value,max:V.value},t.counter)])])}:void 0})}),ht({},_,P,x)}}),bt=f("tr",null,[f("th",null,"名稱"),f("th",null,"操作")],-1),_t=[bt],xt={key:0},Ct=f("td",{colspan:"2"},"沒有事項",-1),Vt=[Ct],pt=f("tr",null,[f("th",null,"名稱"),f("th",null,"操作")],-1),It=[pt],wt={key:0},Pt=f("td",{colspan:"2"},"沒有已完成的事項",-1),kt=[Pt],$t={__name:"ListView",setup(e){const s=Qe(),{colors:a,selectedColor:i}=fe(s),t=tt(),{items:n,finishedItems:o}=fe(t),{addItem:d,editItem:v,delItem:h,cancelEditItem:V,confirmEditItem:y,delFinishedItem:R}=t,_=L(""),P=L(null),x=L([]),M=async()=>{const b=await P.value.validate();console.log(b),!(b.length>0)&&(d(_.value),P.value.reset())},g=async(b,k)=>{(await x.value[k].validate()).length>0||y(b)},N={required:b=>!!b||"欄位必填",length:b=>b.length>=3||"必須三個字以上"};return(b,k)=>(T(),Ze(et,null,{default:O(()=>[l(nt,null,{default:O(()=>[l(Y,{cols:"12"},{default:O(()=>[f("h1",{class:A(["text-center",c(a)[c(i)-1].name])},"事項",2)]),_:1}),l(Y,{cols:"12"},{default:O(()=>[l(_e,{variant:"solo-filled",label:"新增事項",modelValue:_.value,"onUpdate:modelValue":k[0]||(k[0]=u=>_.value=u),rules:[N.required,N.length],"append-icon":"mdi-plus",ref_key:"newItemInput",ref:P,"onClick:append":M,onKeydown:ve(M,["enter"])},null,8,["modelValue","rules"]),l(be,{class:A(c(a)[c(i)-1].bName)},{default:O(()=>[f("thead",{class:A(c(a)[c(i)-1].bName)},_t,2),f("tbody",{class:A(c(a)[c(i)-1].bName)},[(T(!0),E(W,null,me(c(n),(u,r)=>(T(),E("tr",{key:u.id},[f("td",null,[H(f("span",null,ge(u.name),513),[[Q,!u.edit]]),H(l(_e,{modelValue:u.model,"onUpdate:modelValue":m=>u.model=m,rules:[N.required,N.length],ref_for:!0,ref_key:"editItemInput",ref:x,onKeydown:ve(m=>g(u.id,r),["enter"]),autofocus:""},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown"]),[[Q,u.edit]])]),f("td",null,[u.edit?(T(),E(W,{key:1},[l(z,{icon:"mdi-check",variant:"text",color:"green",onClick:m=>g(u.id,r)},null,8,["onClick"]),l(z,{icon:"mdi-undo",variant:"text",color:"red",onClick:m=>c(V)(u.id)},null,8,["onClick"])],64)):(T(),E(W,{key:0},[l(z,{icon:"mdi-pencil",variant:"text",color:"green",onClick:m=>c(v)(u.id)},null,8,["onClick"]),l(z,{icon:"mdi-delete",variant:"text",color:"red",onClick:m=>c(h)(u.id)},null,8,["onClick"])],64))])]))),128)),c(n).length===0?(T(),E("tr",xt,Vt)):he("",!0)],2)]),_:1},8,["class"])]),_:1}),l(Y,{cols:"12"},{default:O(()=>[f("h1",{class:A(["text-center",c(a)[c(i)-1].name])},"已完成事項",2)]),_:1}),l(Y,{cols:"12"},{default:O(()=>[l(be,{class:A(c(a)[c(i)-1].bName)},{default:O(()=>[f("thead",{class:A(c(a)[c(i)-1].bName)},It,2),f("tbody",{class:A(c(a)[c(i)-1].bName)},[(T(!0),E(W,null,me(c(o),u=>(T(),E("tr",{key:u.id},[f("td",null,ge(u.name),1),f("td",null,[l(z,{icon:"mdi-delete",variant:"text",color:"red",onClick:r=>c(R)(u.id)},null,8,["onClick"])])]))),128)),c(o).length===0?(T(),E("tr",wt,kt)):he("",!0)],2)]),_:1},8,["class"])]),_:1})]),_:1})]),_:1}))}};export{$t as default};
